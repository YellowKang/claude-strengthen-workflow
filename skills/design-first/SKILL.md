---
name: design-first
description: 新功能或大改动时先写设计文档再实现的工作流
version: "1.0"
---

> 通用检查项见 ~/.claude/skills/_common/output-format.md
> 开发实践基线见 ~/.claude/skills/_common/dev-practices.md
> 输出格式遵循 CLAUDE.md

## 输入

- 需求描述（新功能/重构/架构变动）
- 现有代码结构和相关模块

## 职责（必须做）

- [ ] 判断触发条件：新功能模块、跨模块变更、接口变更、架构变动 → 必须先设计
- [ ] 创建设计文档：放 design/ 目录，命名规则 be-（后端）/ ui-（前端）/ guide-（指南）
- [ ] 文档结构：概述（目标/背景）→ 方案（技术选型/数据模型）→ 流程（核心链路）→ 接口（API/组件 props）→ 注意事项（边界/风险/兼容）
- [ ] 确认后实现：设计文档写完先确认，再动手写代码
- [ ] 同步更新：实现过程中接口/架构有变更，同步更新 design/ 文档

## 边界（不做什么）

- 不涉及代码实现细节（设计文档只到接口级别）
- 不涉及代码审查（见 code-review）
- 不涉及简单改动（单文件 bug 修复、文案修改、同模块内小改动等不需要设计）

## 输出

输出格式遵循 CLAUDE.md，设计文档结构：概述 → 方案 → 流程 → 接口 → 注意事项。
