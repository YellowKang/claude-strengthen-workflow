---
name: ui-ue-guidelines
description: 页面布局、组件交互、用户反馈和无障碍的 UI/UE 设计规范
version: "1.1"
---

> 通用检查项见 ~/.claude/skills/_common/output-format.md
> 开发实践基线见 ~/.claude/skills/_common/dev-practices.md
> 输出格式遵循 CLAUDE.md

## 输入

- 页面原型/设计稿/需求描述
- 涉及的交互场景和产品类型（B 端管理后台 / C 端用户产品）

## 职责（必须做）

### 布局与视觉层次

- [ ] 视觉层次清晰：通过大小、颜色、对比度、间距引导视线，重要信息优先展示
- [ ] 布局一致性：同类页面保持统一布局结构（导航、内容区、操作区），降低认知负担
- [ ] 响应式适配：B 端适配 1280px+（侧边栏可折叠，核心操作区不低于 960px）；C 端移动优先适配主流机型

### 表单设计

- [ ] 单列布局优先（填写效率最高），字段按逻辑分组
- [ ] 标签位置：短表单顶对齐（快），长表单左对齐（省空间）
- [ ] 实时校验：失焦时校验（非逐字），错误信息紧贴字段下方，明确说明如何修正
- [ ] 主操作按钮视觉突出，次操作弱化；破坏性操作（删除）需二次确认
- [ ] 长表单分步骤引导，显示进度指示
- [ ] 复杂配置用分组折叠面板，必填项和高级选项分区展示

### 表格设计

- [ ] 数字右对齐，文本左对齐；长表格固定表头
- [ ] 提供排序、筛选、搜索能力；大数据量用分页或虚拟滚动
- [ ] 行操作保持一致（统一放右侧或 hover 显示），批量操作有明确入口
- [ ] 空表格有引导提示（"暂无数据" + 操作引导）
- [ ] 列宽合理：操作列固定宽度，内容列按比例分配或设 min-width

### 弹窗与浮层

- [ ] 弹窗只用于需要聚焦的任务（确认、编辑、警告），不滥用
- [ ] 必须有明确关闭方式（X 按钮 + ESC）；编辑/破坏性操作禁止遮罩点击关闭；焦点锁定在弹窗内
- [ ] 禁止弹窗套弹窗（超过一层改用抽屉或新页面）
- [ ] 标题说明目的，按钮不超过 3 个，主操作视觉突出

### 导航

- [ ] 导航层级不超过 3 层，超过则分组或提供搜索
- [ ] 当前位置有明确标识（高亮/面包屑），用户始终知道"我在哪"
- [ ] B 端侧边导航为主（5-9 项为宜），C 端底部 Tab 为主（3-5 个）

### 状态展示与数据可视化

- [ ] 状态用颜色 + 图标 + 文字三重表达（不仅靠颜色），语义一致：绿=正常，红=异常，橙=警告，灰=未知/禁用
- [ ] 实时数据自动刷新时不闪烁（用过渡动画），提供手动刷新入口
- [ ] 数值展示注意单位、精度、千分位；大数值用缩写（1.2K/3.5M）并 hover 显示精确值
- [ ] JSON/代码类配置提供编辑器视图（语法高亮 + 校验）

### 用户反馈与微交互

- [ ] 操作后即时反馈：成功（toast）、失败（错误提示 + 修复建议）、进行中（loading/进度条/骨架屏）
- [ ] 不可逆操作（删除/提交/支付）必须二次确认，确认文案明确说明后果
- [ ] 等待超过 300ms 显示 loading，超过 2s 显示进度或骨架屏
- [ ] 可撤销场景提供 undo 机制，降低误操作成本

### 无障碍（a11y）基线

- [ ] 颜色对比度 ≥ 4.5:1（正文）/ ≥ 3:1（大文本）
- [ ] 可键盘操作：Tab 导航、Enter 确认、ESC 关闭，焦点顺序合理且可见
- [ ] 语义化 HTML：正确使用 heading 层级、button/a 区分、表单 label 关联
- [ ] 动态内容变更用 `aria-live` 通知，弹窗用 `role="dialog"` + `aria-modal`

### 常见坑（AI 生成 UI 高频踩雷）

- [ ] 只做了成功态：AI 生成页面只有数据正常展示的情况，缺少 loading/空态/错误态/无权限态；每个数据区域必须处理四态
- [ ] 表单无防重复提交：按钮点击后不禁用，用户连点导致重复请求；提交后 loading + 禁用按钮，响应后恢复
- [ ] 弹窗关闭不重置：编辑弹窗关闭后再打开，残留上次的表单数据和校验错误；关闭时 `resetFields()` 或用 `v-if` 销毁重建
- [ ] 长文本溢出：AI 生成的布局没考虑超长文本，内容撑破容器；用 `text-overflow: ellipsis` + `overflow: hidden` 或多行截断
- [ ] 移动端点击延迟/穿透：300ms 延迟（现代浏览器已修复需 `<meta viewport>`）、弹层关闭后点击穿透到下层元素
- [ ] 列表无分页/虚拟滚动：AI 生成的列表一次性渲染所有数据，数据量大时页面卡死；> 50 条加分页，> 200 条用虚拟滚动
- [ ] 图片无兜底：图片加载失败显示裂图；加 `onerror` 兜底图或用 CSS `background-image` 叠加占位
- [ ] 操作无确认：删除/批量操作直接执行无二次确认，误操作无法恢复；破坏性操作必须 confirm
- [ ] 响应式断裂：只在桌面端调试，移动端/平板布局错乱；关键页面至少验证 375px（手机）和 768px（平板）断点
- [ ] 颜色传达唯一性：状态只用颜色区分（红/绿），色盲用户无法辨别；颜色 + 图标 + 文字三重表达

### 实战模式（高频场景最佳实践）

#### CRUD 页面标准结构
- 顶部：搜索栏（常用筛选平铺 + 高级筛选折叠）+ 操作按钮（新增/批量导出）
- 中部：表格（固定表头 + 操作列固定右侧 + 行 hover 高亮）
- 底部：分页器（显示总数 + 每页条数可选）
- 交互：新增/编辑用弹窗或抽屉，删除用 confirm，操作后自动刷新列表

#### 表单页标准结构
- 布局：单列居中（宽度 600-800px），字段按逻辑分组
- 校验：必填标星号，失焦校验 + 提交前全量校验，错误信息紧贴字段
- 操作：主按钮（提交）+ 次按钮（取消/重置），固定底部或跟随内容
- 反馈：提交中 loading，成功 toast + 跳转/关闭，失败定位到第一个错误字段

#### 详情页标准结构
- 布局：描述列表（label-value 对）或卡片分组
- 操作：编辑/删除/状态变更按钮放右上角或底部
- 关联数据：Tab 切换展示（订单详情 → 商品列表/物流信息/操作日志）

#### Dashboard 标准结构
- 顶部：时间范围选择器 + 自动/手动刷新
- 核心指标：数字卡片（今日/昨日/环比），一眼看到关键数据
- 图表区：折线图（趋势）+ 饼图（占比）+ 表格（明细），支持下钻
- 异常提示：异常指标红色高亮 + 告警入口

## 边界（不做什么）

- 不涉及具体视觉风格定义（配色方案、品牌字体、图标风格 → 按仓库设计系统执行）
- 不涉及前端代码实现细节（组件写法、状态管理 → 见 frontend/vue/react-conventions）
- 不涉及动效设计工具使用（Figma/Sketch/AE 等）
- 不涉及用户研究方法论（访谈、问卷、A/B 测试流程）

## 输出

输出格式遵循 CLAUDE.md，通用检查项见 _common/output-format.md。
